{"ast":null,"code":"\"use client\";import{useEffect,useState}from\"react\";import styles from\"../styles/pages/Categories.module.css\";import Category from\"../components/Category\";import{getCategories}from\"../utils/apiCalls\";import{Box,CircularProgress,Typography}from\"@mui/material\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Categories(){var _categoriesData$categ;console.log(\"categories rendered\");const[categoriesData,setCategoriesData]=useState(null);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{// enhanse error handling\nconst fetchCategories=async()=>{try{setIsLoading(true);const res=await getCategories();setCategoriesData(res);}catch(err){setError(\"Failed to load categories. Please try again later.\");}finally{setIsLoading(false);}};fetchCategories();},[]);if(isLoading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"60vh\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"60vh\",children:/*#__PURE__*/_jsx(Typography,{color:\"error\",children:error})});}// enhance responsive\nreturn/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",className:styles.title,children:\"Categories\"}),/*#__PURE__*/_jsx(Box,{sx:{display:\"grid\",gridTemplateColumns:{xs:\"repeat(1, 1fr)\",sm:\"repeat(2, 1fr)\",md:\"repeat(3, 1fr)\",lg:\"repeat(4, 1fr)\"},gap:{xs:\"10px\",sm:\"15px\",md:\"20px\"},p:{xs:\"20px 0 50px\",md:\"50px 0 100px\"},alignContent:\"start\"},children:categoriesData===null||categoriesData===void 0?void 0:(_categoriesData$categ=categoriesData.categories)===null||_categoriesData$categ===void 0?void 0:_categoriesData$categ.map(category=>/*#__PURE__*/_jsx(Category,{item:category},category.id))})]});}","map":{"version":3,"names":["useEffect","useState","styles","Category","getCategories","Box","CircularProgress","Typography","jsx","_jsx","jsxs","_jsxs","Categories","_categoriesData$categ","console","log","categoriesData","setCategoriesData","isLoading","setIsLoading","error","setError","fetchCategories","res","err","display","justifyContent","alignItems","minHeight","children","color","className","container","variant","title","sx","gridTemplateColumns","xs","sm","md","lg","gap","p","alignContent","categories","map","category","item","id"],"sources":["/var/www/production/portal/src/pages/Categories.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport styles from \"../styles/pages/Categories.module.css\";\nimport Category from \"../components/Category\";\nimport { getCategories } from \"../utils/apiCalls\";\nimport { Box, CircularProgress, Typography } from \"@mui/material\";\n\nexport default function Categories() {\n  console.log(\"categories rendered\");\n  const [categoriesData, setCategoriesData] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    // enhanse error handling\n    const fetchCategories = async () => {\n      try {\n        setIsLoading(true);\n        const res = await getCategories();\n        setCategoriesData(res);\n      } catch (err) {\n        setError(\"Failed to load categories. Please try again later.\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchCategories();\n  }, []);\n\n  if (isLoading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        minHeight=\"60vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        minHeight=\"60vh\"\n      >\n        <Typography color=\"error\">{error}</Typography>\n      </Box>\n    );\n  }\n  // enhance responsive\n  return (\n    <div className={styles.container}>\n      <Typography variant=\"h2\" className={styles.title}>\n        Categories\n      </Typography>\n      <Box\n        sx={{\n          display: \"grid\",\n          gridTemplateColumns: {\n            xs: \"repeat(1, 1fr)\",\n            sm: \"repeat(2, 1fr)\",\n            md: \"repeat(3, 1fr)\",\n            lg: \"repeat(4, 1fr)\",\n          },\n          gap: { xs: \"10px\", sm: \"15px\", md: \"20px\" },\n          p: { xs: \"20px 0 50px\", md: \"50px 0 100px\" },\n          alignContent: \"start\",\n        }}\n      >\n        {categoriesData?.categories?.map((category) => (\n          <Category key={category.id} item={category} />\n        ))}\n      </Box>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}