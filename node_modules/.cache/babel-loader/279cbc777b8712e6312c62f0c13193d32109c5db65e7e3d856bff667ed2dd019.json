{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Loader from\"../Loader\";import{Box,Stack}from\"@mui/material\";import{getWallet,getWalletHistory}from\"../../utils/apiCalls\";import styles from\"../../styles/pages/Profile.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WalletComponents=()=>{var _walletHistory$items,_walletHistory$items2;const[wallet,setWallet]=useState({});const[walletHistory,setWalletHistory]=useState([]);const[isLoading,setIsLoading]=useState(false);const[isError,setIsError]=useState(false);const options={day:'2-digit',month:'short',year:'numeric'};useEffect(()=>{const fetchData=async()=>{try{setIsLoading(true);const walletRes=await getWallet();setWallet(walletRes);const walletHistoryRes=await getWalletHistory();setWalletHistory(walletHistoryRes);}catch(error){setIsError(error);}finally{setIsLoading(false);}};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\"},children:[isLoading&&/*#__PURE__*/_jsx(Loader,{open:true}),isError&&/*#__PURE__*/_jsx(\"div\",{children:\"No Orders Created ...\"}),wallet&&/*#__PURE__*/_jsxs(Stack,{className:styles.text_container,style:{boxShadow:\"rgba(0, 0, 0, 0.05) 0px 1px 2px 0px\",backgroundColor:\"#fff\",padding:\"20px\",borderRadius:\"8px\"},children:[/*#__PURE__*/_jsx(Box,{component:\"div\",sx:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Box,{sx:{color:\"#000\",fontSize:\"24px\",fontWeight:\"600\"},children:\"Wallet\"}),/*#__PURE__*/_jsxs(Box,{sx:{color:\"#AD6B46\",fontSize:\"36px\",fontWeight:\"700\"},children:[wallet?wallet===null||wallet===void 0?void 0:wallet.balance:0,\" EGP\"]})]})}),/*#__PURE__*/_jsx(Stack,{sx:{position:\"relative\",flex:1,maxWidth:{xs:\"80vw\",sm:\"60vw\"}},children:(walletHistory===null||walletHistory===void 0?void 0:(_walletHistory$items=walletHistory.items)===null||_walletHistory$items===void 0?void 0:_walletHistory$items.length)>0?/*#__PURE__*/_jsx(Stack,{sx:{overflowX:\"auto\",maxWidth:\"100%\"},children:/*#__PURE__*/_jsxs(\"table\",{className:styles.my_table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Details\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Balance\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:walletHistory===null||walletHistory===void 0?void 0:(_walletHistory$items2=walletHistory.items)===null||_walletHistory$items2===void 0?void 0:_walletHistory$items2.map((item,index)=>{var _Date,_item$credits;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:(_Date=new Date(item===null||item===void 0?void 0:item.createdAt))===null||_Date===void 0?void 0:_Date.toLocaleDateString('en-GB',options)}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Process credits against \",item===null||item===void 0?void 0:item.order,\".\"]}),/*#__PURE__*/_jsxs(\"td\",{style:{color:item!==null&&item!==void 0&&(_item$credits=item.credits)!==null&&_item$credits!==void 0&&_item$credits.startsWith(\"-\")?\"#F04438\":\"#32D583\"},children:[item===null||item===void 0?void 0:item.credits,\" EGP\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item===null||item===void 0?void 0:item.wallet,\" EGP\"]})]},index);})})]})}):/*#__PURE__*/_jsx(\"h1\",{children:\"No Wallet History\"})})]})]});};export default WalletComponents;","map":{"version":3,"names":["React","useEffect","useState","Loader","Box","Stack","getWallet","getWalletHistory","styles","jsx","_jsx","jsxs","_jsxs","WalletComponents","_walletHistory$items","_walletHistory$items2","wallet","setWallet","walletHistory","setWalletHistory","isLoading","setIsLoading","isError","setIsError","options","day","month","year","fetchData","walletRes","walletHistoryRes","error","style","width","children","open","className","text_container","boxShadow","backgroundColor","padding","borderRadius","component","sx","display","justifyContent","alignItems","color","fontSize","fontWeight","balance","position","flex","maxWidth","xs","sm","items","length","overflowX","my_table","map","item","index","_Date","_item$credits","Date","createdAt","toLocaleDateString","order","credits","startsWith"],"sources":["/var/www/production/portal/src/components/profile/WalletComponents.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Loader from \"../Loader\";\r\nimport { Box, Stack } from \"@mui/material\";\r\nimport { getWallet, getWalletHistory } from \"../../utils/apiCalls\";\r\nimport styles from \"../../styles/pages/Profile.module.css\";\r\n\r\nconst WalletComponents = () => {\r\n  const [wallet, setWallet] = useState({});\r\n  const [walletHistory, setWalletHistory] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const options = { day: '2-digit', month: 'short', year: 'numeric' };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n\r\n        const walletRes = await getWallet();\r\n        setWallet(walletRes);\r\n\r\n        const walletHistoryRes = await getWalletHistory();\r\n        setWalletHistory(walletHistoryRes);\r\n      } catch (error) {\r\n        setIsError(error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      {isLoading && <Loader open={true} />}\r\n      {isError && <div>No Orders Created ...</div>}\r\n      {wallet && (\r\n        <Stack\r\n          className={styles.text_container}\r\n          style={{\r\n            boxShadow: \"rgba(0, 0, 0, 0.05) 0px 1px 2px 0px\",\r\n            backgroundColor: \"#fff\",\r\n            padding: \"20px\",\r\n            borderRadius: \"8px\",\r\n          }}\r\n        >\r\n          <Box component={\"div\"}\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Box>\r\n              <Box\r\n                sx={{\r\n                  color: \"#000\",\r\n                  fontSize: \"24px\",\r\n                  fontWeight: \"600\",\r\n                }}\r\n              >\r\n                Wallet\r\n              </Box>\r\n              <Box\r\n                sx={{\r\n                  color: \"#AD6B46\",\r\n                  fontSize: \"36px\",\r\n                  fontWeight: \"700\",\r\n                }}\r\n              >\r\n                {wallet ? wallet?.balance : 0} EGP\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n\r\n          <Stack  sx={{ position: \"relative\", flex:1,maxWidth:{xs:\"80vw\",sm:\"60vw\"}}}>\r\n            {walletHistory?.items?.length > 0 ? (\r\n              <Stack sx={{ overflowX: \"auto\", maxWidth: \"100%\" }}>\r\n                <table className={styles.my_table}>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Created</th>\r\n                      <th>Details</th>\r\n                      <th>Amount</th>\r\n                      <th>Balance</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {walletHistory?.items?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td>{new Date(item?.createdAt)?.toLocaleDateString('en-GB', options)}</td>\r\n                        <td>Process credits against {item?.order}.</td>\r\n                        <td\r\n                          style={{\r\n                            color: item?.credits?.startsWith(\"-\")  ? \"#F04438\" : \"#32D583\",\r\n                          }}\r\n                        >\r\n                          {item?.credits} EGP\r\n                        </td>\r\n                        <td>{item?.wallet} EGP</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </Stack>\r\n            ) : (\r\n              <h1>No Wallet History</h1>\r\n            )}\r\n          </Stack>\r\n        </Stack>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WalletComponents;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}