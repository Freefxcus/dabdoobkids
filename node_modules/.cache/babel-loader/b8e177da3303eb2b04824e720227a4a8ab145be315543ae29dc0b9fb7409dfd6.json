{"ast":null,"code":"import axios from\"axios\";console.log('url',process.env.REACT_APP_BASE_URL);const instance=axios.create({// baseURL: \"https://dabdoobkidz-api.onrender.com\", // Set your API base URL\nbaseURL:process.env.REACT_APP_BASE_URL// Set your API base URL\n});// Request interceptor\ninstance.interceptors.request.use(config=>{// Do something before request is sent\nif(localStorage.getItem(\"access_token\")){config.headers.Authorization=`Bearer ${localStorage.getItem(\"access_token\")}`;}return config;},error=>{// Do something with request error\nconsole.error(\"Request Error Interceptor:\",error);return Promise.reject(error);});// Response interceptor\ninstance.interceptors.response.use(response=>{return response;},error=>{return Promise.reject(error.response.data.message);});export default instance;","map":{"version":3,"names":["axios","console","log","process","env","REACT_APP_BASE_URL","instance","create","baseURL","interceptors","request","use","config","localStorage","getItem","headers","Authorization","error","Promise","reject","response","data","message"],"sources":["/var/www/production/portal/src/utils/interceptor.js"],"sourcesContent":["import axios from \"axios\";\r\nconsole.log('url', process.env.REACT_APP_BASE_URL)\r\nconst instance = axios.create({\r\n  // baseURL: \"https://dabdoobkidz-api.onrender.com\", // Set your API base URL\r\n  baseURL: process.env.REACT_APP_BASE_URL, // Set your API base URL\r\n});\r\n\r\n// Request interceptor\r\ninstance.interceptors.request.use(\r\n  (config) => {\r\n    // Do something before request is sent\r\n    if (localStorage.getItem(\"access_token\")) {\r\n      config.headers.Authorization = `Bearer ${localStorage.getItem(\r\n        \"access_token\"\r\n      )}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    // Do something with request error\r\n    console.error(\"Request Error Interceptor:\", error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\ninstance.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error.response.data.message);\r\n  }\r\n);\r\n\r\nexport default instance;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzBC,OAAO,CAACC,GAAG,CAAC,KAAK,CAAEC,OAAO,CAACC,GAAG,CAACC,kBAAkB,CAAC,CAClD,KAAM,CAAAC,QAAQ,CAAGN,KAAK,CAACO,MAAM,CAAC,CAC5B;AACAC,OAAO,CAAEL,OAAO,CAACC,GAAG,CAACC,kBAAoB;AAC3C,CAAC,CAAC,CAEF;AACAC,QAAQ,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9BC,MAAM,EAAK,CACV;AACA,GAAIC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAAE,CACxCF,MAAM,CAACG,OAAO,CAACC,aAAa,CAAG,UAAUH,YAAY,CAACC,OAAO,CAC3D,cACF,CAAC,EAAE,CACL,CACA,MAAO,CAAAF,MAAM,CACf,CAAC,CACAK,KAAK,EAAK,CACT;AACAhB,OAAO,CAACgB,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClD,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACF,CAAC,CAED;AACAX,QAAQ,CAACG,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC/BS,QAAQ,EAAK,CACZ,MAAO,CAAAA,QAAQ,CACjB,CAAC,CACAH,KAAK,EAAK,CACT,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAACG,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAC,CACpD,CACF,CAAC,CAED,cAAe,CAAAhB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}