{"version":3,"file":"static/js/724.fee6f301.chunk.js","mappings":"iLAIe,SAASA,IACtB,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,OAC5BK,EAAOC,IAAYN,EAAAA,EAAAA,WAAS,IAAMO,KAAKC,KAAKC,OAAOC,WAAa,MAAM,IACvEC,GAAWC,EAAAA,EAAAA,MAiCjB,IA/BAC,EAAAA,EAAAA,YAAU,KACaC,WACnB,IAAK,IAADC,EAAAC,EACF,MAAMC,QAAiBC,EAAAA,EAASC,IAAI,UAAW,CAC7CC,OAAQ,CAAEC,MAAO,MAEnBtB,GAAkB,OAARkB,QAAQ,IAARA,GAAc,QAANF,EAARE,EAAUK,YAAI,IAAAP,GAAM,QAANC,EAAdD,EAAgBO,YAAI,IAAAN,OAAZ,EAARA,EAAsBlB,SAAQ,GAC1C,CAAE,MAAOyB,GACPC,QAAQrB,MAAM,2BAA4BoB,GAC1CnB,EAASmB,EACX,CAAC,QACCrB,GAAW,EACb,GAKFuB,EAAc,GAEb,KAGHZ,EAAAA,EAAAA,YAAU,KACR,MAAMa,EAAeA,KACnBpB,EAASC,KAAKC,KAAKC,OAAOC,WAAa,KAAK,EAI9C,OADAD,OAAOkB,iBAAiB,SAAUD,GAC3B,IAAMjB,OAAOmB,oBAAoB,SAAUF,EAAa,GAC9D,IAECzB,EACF,OAAO4B,EAAAA,EAAAA,KAAA,OAAAC,SAAK,eAGd,GAAI3B,EACF,OAAO0B,EAAAA,EAAAA,KAAA,OAAAC,SAAK,0BAGd,MAAMC,EAAcxB,KAAKC,KAAKH,IAAe,OAANP,QAAM,IAANA,OAAM,EAANA,EAAQkC,SAAQ,IAGjDC,EAAY,IAAIC,OAAOH,GAAa,GAAK,IAAII,SAAQ,IAAMrC,IAEjE,OAGF+B,EAAAA,EAAAA,KAAA,WAASO,MAAM,UAASN,UACtBD,EAAAA,EAAAA,KAAA,OAAKO,MAAM,UAASN,UAClBD,EAAAA,EAAAA,KAAA,OAAKO,MAAM,iBAAgBN,SACpB,OAANhC,QAAM,IAANA,GAAAA,EAAQkC,OACHC,EAAUI,KAAI,CAAAC,EAAuBC,KAAK,IAA3B,OAAEC,EAAM,KAAEC,EAAI,GAAEC,GAAIJ,EAAA,OACjCT,EAAAA,EAAAA,KAAA,OAEEc,IAAKH,EAAO,GACZI,IAAKH,EACLI,MAAO,CACLC,OAAQ,UACRC,UAAW,UACXC,eAAgB,UAElBC,QAASA,KACPtC,EAAS,mBAAmB+B,IAAK,GAT9BH,EAWL,IAEJ,UAQV,C","sources":["components/Home/BrandsSwiper.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport instance from \"../../utils/interceptor\";\nimport \"./style.css\"\nexport default function BrandsSwiper() {\n  const [brands, setBrands] = useState([]);\n  const [loading, setLoading] = useState(true); // To handle the loading state\n  const [error, setError] = useState(null);\n  const [limit, setLimit] = useState(() => Math.ceil(window.innerWidth / 300)||1);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchBanners = async () => {\n      try {\n        const response = await instance.get(\"/brands\", {\n          params: { items: 50 },\n        });\n        setBrands(response?.data?.data?.brands||[]);\n      } catch (err) {\n        console.error(\"Failed to fetch banners:\", err);\n        setError(err); // Notify the error if needed\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    \n\n    fetchBanners();\n   \n  }, []);\n\n  // Update the limit on window resize\n  useEffect(() => {\n    const handleResize = () => {\n      setLimit(Math.ceil(window.innerWidth / 300));\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  if (loading) {\n    return <div>Loading...</div>; // Show a loading indicator\n  }\n\n  if (error) {\n    return <div>Error loading banners</div>; // Show an error message\n  }\n\n  const repeatCount = Math.ceil(limit / (brands?.length||1));\n\n  // Create a new array with the repeated brandshome\n  const newBrands = [...Array((repeatCount||1) + 3)].flatMap(() => brands);\n\n  return (\n    \n\n<article class=\"wrapper\">\n  <div class=\"marquee\">\n    <div class=\"marquee__group\">\n    {brands?.length\n        ? newBrands.map(({ images, name, id }, index) => (\n            <img\n              key={index}\n              src={images[0]}\n              alt={name}\n              style={{\n                cursor: \"pointer\",\n                objectFit: \"contain\",\n                objectPosition: \"center\",\n              }}\n              onClick={() => {\n                navigate(`search/?brandId=${id}`);\n              }}\n            />\n          ))\n        : null}\n    </div>\n  </div>\n\n </article>\n\n   \n  );\n}\n\n\n{/* <Swiper\nclassName=\"mySwiper\"\nslidesPerView={limit}\nspeed={10000}\nautoplay={{ <marquee ref={marqueeRef} direction=\"left\">\n    \n    </marquee>\n  delay: 0,\n  disableOnInteraction: false,\n}}\nmodules={[Autoplay, Pagination, Navigation]}\n// pagination={{ clickable: true }}\nloop={true}\n>\n<div className=\"swiper-container\" style={{ width: \"100%\" }}>\n  {brands?.length\n    ? newBrands.map(({ images, name, id }, index) => (\n        <SwiperSlide\n          key={index}\n          style={{\n            width: \"fit-content !important\",\n          }}\n        >\n          <div style={{ width: \"250px\", height: \"150px\" }}>\n            <img\n              src={images[0]}\n              alt={name}\n              style={{\n                cursor: \"pointer\",\n                objectFit: \"contain\",\n                objectPosition: \"center\",\n              }}\n              onClick={() => {\n                navigate(`search/?brandId=${id}`);\n              }}\n            />\n          </div>\n        </SwiperSlide>\n      ))\n    : null}\n</div>\n</Swiper> */}"],"names":["BrandsSwiper","brands","setBrands","useState","loading","setLoading","error","setError","limit","setLimit","Math","ceil","window","innerWidth","navigate","useNavigate","useEffect","async","_response$data","_response$data$data","response","instance","get","params","items","data","err","console","fetchBanners","handleResize","addEventListener","removeEventListener","_jsx","children","repeatCount","length","newBrands","Array","flatMap","class","map","_ref","index","images","name","id","src","alt","style","cursor","objectFit","objectPosition","onClick"],"sourceRoot":""}